{"version":3,"sources":["api/requests.js","components/ControlMenu/ControlMenu.jsx","api/currency.js","components/ProductCard/ProductCard.jsx","components/Form/Form.jsx","App.jsx","index.js"],"names":["getData","BASE_URL","endpoint","url","options","fetch","then","response","ok","Error","status","statusText","json","result","request","method","currencyPair","ControlMenu","setCurrency","setConvertedCurrency","sortBy","setSortBy","setFrom","setTo","from","to","defineCurrency","event","target","innerText","handleClickConvert","debounce","convertCurrency","join","handleChange","sortOption","id","handleChangePriceRange","fieldName","name","fieldValue","value","className","htmlFor","type","placeholder","onChange","onClick","checked","React","memo","ProductCard","currency","convertedCurrency","sortedProducts","map","price","image","description","src","alt","toFixed","Form","action","maxLength","required","transformPrice","rate","App","useState","productsCopy","Products","products","filteredProducts","useMemo","arr","higher","lower","filter","el","by","sort","a","b","localeCompare","sortArr","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"43IAUaA,EAAU,SAACC,EAAUC,GAGhC,OAbc,SAACC,EAAKC,GAAN,OAAkBC,MAAMF,EAAKC,GAC1CE,MAAK,SAACC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAJ,UAAaF,EAASG,OAAtB,cAAkCH,EAASI,aAGnD,OAAOJ,EAASK,UAEjBN,MAAK,SAACO,GAAD,OAAYA,KAKXC,CAFKb,EAAWC,EAEH,CAAEa,OAAQ,S,eCL1BC,EAAe,CAAC,MAAO,OAEvBC,EAAc,SAAC,GAGd,IAFLC,EAEI,EAFJA,YAAaC,EAET,EAFSA,qBAAsBC,EAE/B,EAF+BA,OAAQC,EAEvC,EAFuCA,UAC3CC,EACI,EADJA,QAASC,EACL,EADKA,MAAOC,EACZ,EADYA,KAAMC,EAClB,EADkBA,GAEhBC,EAAiB,SAACC,GACtBT,EAAYS,EAAMC,OAAOC,YAGrBC,EAAqBC,oBAAS,SAACJ,GACnCD,EAAeC,GCfY,SAACH,EAAMC,GACpC,IAAMvB,EAAQ,4BAAwBsB,EAAxB,YAAgCC,EAAhC,8CAEd,OAAOzB,EALQ,4BAKUE,GDcvB8B,CAAgBhB,EAAa,GAAIA,EAAa,IAC3CV,MAAK,SAACO,GAAD,OAAYM,EAAqBN,EAAOG,EAAaiB,KAAK,UAElEX,EAAQ,IACRC,EAAM,MACL,KAWGW,EAAe,SAACP,GACpB,IAAMQ,EAAaR,EAAMC,OAAOQ,GAEhCf,EAAUc,IAGNE,EAAyB,SAACV,GAC9B,IAAMW,EAAYX,EAAMC,OAAOW,KACzBC,EAAab,EAAMC,OAAOa,MAEhC,OAAQH,GACN,IAAK,OACHhB,EAAQkB,GACR,MAEF,IAAK,KACHjB,EAAMiB,GACN,MAEF,QACE,MAAM,IAAI/B,MAAJ,iCAAoC6B,MAIhD,OACE,sBAAKI,UAAU,cAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,gCAAd,mBAIA,sBAAKA,UAAU,6BAAf,UACE,wBAAOC,QAAQ,OAAOD,UAAU,2BAAhC,kBAEE,uBACEE,KAAK,SACLF,UAAU,2BACVG,YAAY,OACZT,GAAG,OACHK,MAAOjB,EACPsB,SAAUT,EACVE,KAAK,YAIT,wBAAOI,QAAQ,KAAKD,UAAU,2BAA9B,gBAEE,uBACEE,KAAK,SACLF,UAAU,2BACVG,YAAY,KACZT,GAAG,KACHK,MAAOhB,EACPqB,SAAUT,EACVE,KAAK,gBAMb,sBAAKG,UAAU,qBAAf,UACE,oBAAIA,UAAU,gCAAd,sBAIA,wBACEE,KAAK,SACLF,UAAU,mCACVK,QAASjB,EAHX,iBAQA,wBACEc,KAAK,SACLF,UAAU,iDACVK,QArFe,SAACpB,GACtBD,EAAeC,GAEfR,EAAqB,GAErBG,EAAQ,IACRC,EAAM,KA4EF,oBASF,sBAAKmB,UAAU,qBAAf,UACE,oBAAIA,UAAU,gCAAd,qBAIA,gCACE,wBAAOC,QAAQ,YAAYD,UAAU,qBAArC,UACE,uBACEE,KAAK,QACLR,GAAG,YACHG,KAAK,OACLO,SAAUZ,EACVc,QAAoB,cAAX5B,IANb,qBAUA,wBAAOuB,QAAQ,aAAaD,UAAU,qBAAtC,UACE,uBACEE,KAAK,QACLR,GAAG,aACHG,KAAK,OACLO,SAAUZ,EACVc,QAAoB,eAAX5B,IANb,sBAUA,wBAAOuB,QAAQ,WAAWD,UAAU,qBAApC,UACE,uBACEE,KAAK,QACLR,GAAG,WACHG,KAAK,OACLO,SAAUZ,EACVc,QAAoB,aAAX5B,IANb,wBA2BK6B,MAAMC,KAAKjC,GEvKpBkC,G,MAAc,SAAC,GAAD,IAClBC,EADkB,EAClBA,SAAUC,EADQ,EACRA,kBAAmBC,EADX,EACWA,eADX,OAGlB,mCACGA,EAAeC,KAAI,gBAClBnB,EADkB,EAClBA,GAAIG,EADc,EACdA,KAAMiB,EADQ,EACRA,MAAOC,EADC,EACDA,MAAOC,EADN,EACMA,YADN,OAGlB,qBAAchB,UAAU,cAAxB,SACE,qBAAKA,UAAU,yBAAf,SACE,qBAAKA,UAAU,eAAf,SACE,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,aAAf,SACE,iCACE,qBACEiB,IAAKF,EACLG,IAAKrB,EACLG,UAAU,2BAIhB,sBAAKA,UAAU,gBAAf,UACE,mBAAGA,UAAU,aAAb,SAA2BH,IAC3B,sCAAOc,GAAqBG,EAAQH,GAAmBQ,QAAQ,GAAKL,EAApE,YAA6EJ,KAC7E,6CACA,4BACGM,eAlBHtB,UAyCDa,MAAMC,KAAKC,GCjDpBW,G,MAAO,kBACX,uBAAMC,OAAO,GAAGrB,UAAU,WAA1B,UACE,sBAAKA,UAAU,kBAAf,UACE,sBAAKA,UAAU,cAAf,UACE,uBAAOC,QAAQ,OAAf,kBAIA,uBACED,UAAU,oBACVE,KAAK,OACLC,YAAY,eACZN,KAAK,eACLH,GAAG,OACH4B,UAAU,KACVC,UAAQ,OAIZ,sBAAKvB,UAAU,cAAf,UACE,uBAAOC,QAAQ,QAAf,mBAIA,uBACED,UAAU,oBACVE,KAAK,SACLC,YAAY,OACZN,KAAK,QACLH,GAAG,QACH6B,UAAQ,OAIZ,sBAAKvB,UAAU,gCAAf,UACE,sCACA,uBAAOC,QAAQ,IAAID,UAAU,kBAA7B,eACA,uBACEE,KAAK,OACLF,UAAU,yBACVN,GAAG,YAKT,sBAAKM,UAAU,kBAAf,UACE,0BACEA,UAAU,WACVG,YAAY,cACZmB,UAAU,MACVC,UAAQ,IAEV,wBAAQrB,KAAK,SAASF,UAAU,kBAAhC,iCAOSO,MAAMC,KAAKY,G,OCrCpBI,G,MAAiB,SAACV,EAAOW,GAC7B,OAAIA,GACMX,EAAQW,GAAMN,QAAQ,GAGzBL,IAqEMY,MAhDf,WACE,MAAgCC,mBAAS,OAAzC,mBAAOjB,EAAP,KAAiBlC,EAAjB,KACA,EAAkDmD,mBAAS,GAA3D,mBAAOhB,EAAP,KAA0BlC,EAA1B,KACA,EAA4BkD,mBAAS,cAArC,mBAAOjD,EAAP,KAAeC,EAAf,KACA,EAAwBgD,mBAAS,IAAjC,mBAAO7C,EAAP,KAAaF,EAAb,KACA,EAAoB+C,mBAAS,IAA7B,mBAAO5C,EAAP,KAAWF,EAAX,KAEM+C,EAAY,YAAOC,EAASC,UAE5BC,EAAmBC,mBAAQ,kBA3BhBC,EA4BfL,EA5B2BM,EA4BPnD,EA5Be0C,EA4BXd,GA5BJwB,EA4BNrD,IA3BHoD,EACJD,EAAIG,QACT,SAACC,GAAD,OAAQb,EAAea,EAAGvB,MAAOW,KAAUU,GAASX,EAAea,EAAGvB,MAAOW,KAAUS,KAIvFC,EACKF,EAAIG,QAAO,SAACC,GAAD,OAAQb,EAAea,EAAGvB,MAAOW,KAAUU,KAG3DD,EACKD,EAAIG,QAAO,SAACC,GAAD,OAAQb,EAAea,EAAGvB,MAAOW,KAAUS,KAGxDD,EAfS,IAACA,EAAKE,EAAOD,EAAQT,IA6BlC,CAAC/C,EAAQI,EAAMC,IAEZ6B,EAAiBoB,mBAAQ,kBAvDjB,SAACM,EAAIL,GACnB,OAAQK,GACN,IAAK,aACH,OAAOL,EAAIM,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAE3B,MAAQ0B,EAAE1B,SAExC,IAAK,YACH,OAAOmB,EAAIM,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE1B,MAAQ2B,EAAE3B,SAExC,IAAK,WACH,OAAOmB,EAAIM,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE3C,KAAK6C,cAAcD,EAAE5C,SAEnD,QACE,MAAM,IAAI9B,MAAJ,kCAAqCuE,KA2CVK,CACnCjE,EAAQqD,KACP,CAACrD,EAAQI,EAAMC,IAElB,OACE,uBAAMiB,UAAU,MAAhB,UACE,0BAASA,UAAU,oBAAnB,UACE,cAAC,EAAD,CACExB,YAAaA,EACbC,qBAAsBA,EACtBkC,kBAAmBA,EACnBhC,UAAWA,EACXD,OAAQA,EACRI,KAAMA,EACNC,GAAIA,EACJH,QAASA,EACTC,MAAOA,IAGT,qBAAKmB,UAAU,gBAAf,SACE,cAAC,EAAD,CACEU,SAAUA,EACVC,kBAAmBA,EACnBC,eAAgBA,SAKtB,yBAASZ,UAAU,2BAAnB,SACE,cAAC,EAAD,U,MCvFR4C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.709f37a3.chunk.js","sourcesContent":["const request = (url, options) => fetch(url, options)\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(`${response.status} - ${response.statusText}`);\n    }\n\n    return response.json();\n  })\n  .then((result) => result);\n\nexport const getData = (BASE_URL, endpoint) => {\n  const url = BASE_URL + endpoint;\n\n  return request(url, { method: 'GET' });\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { debounce } from 'lodash';\n\nimport { convertCurrency } from '../../api/currency';\n\nimport './ControlMenu.scss';\n\nconst currencyPair = ['USD', 'UAH'];\n\nconst ControlMenu = ({\n  setCurrency, setConvertedCurrency, sortBy, setSortBy,\n  setFrom, setTo, from, to,\n}) => {\n  const defineCurrency = (event) => {\n    setCurrency(event.target.innerText);\n  };\n\n  const handleClickConvert = debounce((event) => {\n    defineCurrency(event);\n\n    convertCurrency(currencyPair[0], currencyPair[1])\n      .then((result) => setConvertedCurrency(result[currencyPair.join('_')]));\n\n    setFrom('');\n    setTo('');\n  }, 500);\n\n  const handleClickUah = (event) => {\n    defineCurrency(event);\n\n    setConvertedCurrency(0);\n\n    setFrom('');\n    setTo('');\n  };\n\n  const handleChange = (event) => {\n    const sortOption = event.target.id;\n\n    setSortBy(sortOption);\n  };\n\n  const handleChangePriceRange = (event) => {\n    const fieldName = event.target.name;\n    const fieldValue = event.target.value;\n\n    switch (fieldName) {\n      case 'from':\n        setFrom(fieldValue);\n        break;\n\n      case 'to':\n        setTo(fieldValue);\n        break;\n\n      default:\n        throw new Error(`Unexpected field name: ${fieldName}`);\n    }\n  };\n\n  return (\n    <div className=\"ControlMenu\">\n      <div className=\"ControlMenu__block\">\n        <h2 className=\"title is-3 ControlMenu--title\">\n          Price\n        </h2>\n\n        <div className=\"ControlMenu__price-wrapper\">\n          <label htmlFor=\"from\" className=\"ControlMenu__price-label\">\n            From:\n            <input\n              type=\"number\"\n              className=\"input ControlMenu__price\"\n              placeholder=\"From\"\n              id=\"from\"\n              value={from}\n              onChange={handleChangePriceRange}\n              name=\"from\"\n            />\n          </label>\n\n          <label htmlFor=\"to\" className=\"ControlMenu__price-label\">\n            To:\n            <input\n              type=\"number\"\n              className=\"input ControlMenu__price\"\n              placeholder=\"To\"\n              id=\"to\"\n              value={to}\n              onChange={handleChangePriceRange}\n              name=\"to\"\n            />\n          </label>\n        </div>\n      </div>\n\n      <div className=\"ControlMenu__block\">\n        <h2 className=\"title is-3 ControlMenu--title\">\n          Currency\n        </h2>\n\n        <button\n          type=\"button\"\n          className=\"button is-primary is-rounded usd\"\n          onClick={handleClickConvert}\n        >\n          USD\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"button is-warning has-text-info is-rounded uah\"\n          onClick={handleClickUah}\n        >\n          UAH\n        </button>\n      </div>\n\n      <div className=\"ControlMenu__block\">\n        <h2 className=\"title is-3 ControlMenu--title\">\n          Sort by\n        </h2>\n\n        <div>\n          <label htmlFor=\"ascending\" className=\"ControlMenu__radio\">\n            <input\n              type=\"radio\"\n              id=\"ascending\"\n              name=\"sort\"\n              onChange={handleChange}\n              checked={sortBy === 'ascending'}\n            />\n            price ascending\n          </label>\n          <label htmlFor=\"descending\" className=\"ControlMenu__radio\">\n            <input\n              type=\"radio\"\n              id=\"descending\"\n              name=\"sort\"\n              onChange={handleChange}\n              checked={sortBy === 'descending'}\n            />\n            price descending\n          </label>\n          <label htmlFor=\"alphabet\" className=\"ControlMenu__radio\">\n            <input\n              type=\"radio\"\n              id=\"alphabet\"\n              name=\"sort\"\n              onChange={handleChange}\n              checked={sortBy === 'alphabet'}\n            />\n            alphabet\n          </label>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nControlMenu.propTypes = {\n  setCurrency: PropTypes.func.isRequired,\n  setConvertedCurrency: PropTypes.func.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  setSortBy: PropTypes.func.isRequired,\n  from: PropTypes.string.isRequired,\n  to: PropTypes.string.isRequired,\n  setFrom: PropTypes.func.isRequired,\n  setTo: PropTypes.func.isRequired,\n};\n\nexport default React.memo(ControlMenu);\n","import { getData } from './requests';\n\nconst BASE_URL = 'https://free.currconv.com';\n\nexport const convertCurrency = (from, to) => {\n  const endpoint = `/api/v7/convert?q=${from}_${to}&compact=ultra&apiKey=951507a355fe57835c24`;\n\n  return getData(BASE_URL, endpoint);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './ProductCard.scss';\n\nconst ProductCard = ({\n  currency, convertedCurrency, sortedProducts,\n}) => (\n  <>\n    {sortedProducts.map(({\n      id, name, price, image, description,\n    }) => (\n      <div key={id} className=\"ProductCard\">\n        <div className=\"card ProductCard--card\">\n          <div className=\"card-content\">\n            <div className=\"media\">\n              <div className=\"media-left\">\n                <figure>\n                  <img\n                    src={image}\n                    alt={name}\n                    className=\"ProductCard__image\"\n                  />\n                </figure>\n              </div>\n              <div className=\"media-content\">\n                <p className=\"title is-4\">{name}</p>\n                <p>{`${convertedCurrency ? (price / convertedCurrency).toFixed(2) : price} ${currency}`}</p>\n                <p>Description:</p>\n                <p>\n                  {description}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ))}\n  </>\n);\n\nProductCard.propTypes = {\n  currency: PropTypes.string.isRequired,\n  convertedCurrency: PropTypes.number.isRequired,\n  sortedProducts: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired,\n    description: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nexport default React.memo(ProductCard);\n","import React from 'react';\n\nimport './Form.scss';\n\nconst Form = () => (\n  <form action=\"\" className=\"Form box\">\n    <div className=\"Form__container\">\n      <div className=\"Form__block\">\n        <label htmlFor=\"name\">\n          Name\n        </label>\n\n        <input\n          className=\"input Form--input\"\n          type=\"text\"\n          placeholder=\"Product name\"\n          name=\"product-name\"\n          id=\"name\"\n          maxLength=\"32\"\n          required\n        />\n      </div>\n\n      <div className=\"Form__block\">\n        <label htmlFor=\"price\">\n          Price\n        </label>\n\n        <input\n          className=\"input Form--input\"\n          type=\"number\"\n          placeholder=\"Pice\"\n          name=\"price\"\n          id=\"price\"\n          required\n        />\n      </div>\n\n      <div className=\"Form__block Form__block--file\">\n        <p>Image</p>\n        <label htmlFor=\"1\" className=\"button is-light\">+</label>\n        <input\n          type=\"file\"\n          className=\"input Form__file-input\"\n          id=\"1\"\n        />\n      </div>\n    </div>\n\n    <div className=\"Form__container\">\n      <textarea\n        className=\"textarea\"\n        placeholder=\"Description\"\n        maxLength=\"500\"\n        required\n      />\n      <button type=\"submit\" className=\"button is-light\">\n        Add product\n      </button>\n    </div>\n  </form>\n);\n\nexport default React.memo(Form);\n","import React, { useState, useMemo } from 'react';\n\nimport ControlMenu from './components/ControlMenu/ControlMenu';\nimport ProductCard from './components/ProductCard/ProductCard';\nimport Form from './components/Form/Form';\n\nimport Products from './Database/products.json';\n\nimport './App.scss';\n\nconst sortArr = (by, arr) => {\n  switch (by) {\n    case 'descending':\n      return arr.sort((a, b) => b.price - a.price);\n\n    case 'ascending':\n      return arr.sort((a, b) => a.price - b.price);\n\n    case 'alphabet':\n      return arr.sort((a, b) => a.name.localeCompare(b.name));\n\n    default:\n      throw new Error(`Unexpected sort option: ${by}`);\n  }\n};\n\nconst transformPrice = (price, rate) => {\n  if (rate) {\n    return (price / rate).toFixed(2);\n  }\n\n  return price;\n};\n\nconst filterArr = (arr, lower, higher, rate) => {\n  if (lower && higher) {\n    return arr.filter(\n      (el) => transformPrice(el.price, rate) >= +lower && transformPrice(el.price, rate) <= +higher,\n    );\n  }\n\n  if (lower) {\n    return arr.filter((el) => transformPrice(el.price, rate) >= +lower);\n  }\n\n  if (higher) {\n    return arr.filter((el) => transformPrice(el.price, rate) <= +higher);\n  }\n\n  return arr;\n};\n\nfunction App() {\n  const [currency, setCurrency] = useState('UAH');\n  const [convertedCurrency, setConvertedCurrency] = useState(0);\n  const [sortBy, setSortBy] = useState('descending');\n  const [from, setFrom] = useState('');\n  const [to, setTo] = useState('');\n\n  const productsCopy = [...Products.products];\n\n  const filteredProducts = useMemo(() => filterArr(\n    productsCopy, from, to, convertedCurrency,\n  ), [sortBy, from, to]);\n\n  const sortedProducts = useMemo(() => sortArr(\n    sortBy, filteredProducts,\n  ), [sortBy, from, to]);\n\n  return (\n    <main className=\"App\">\n      <section className=\"App__main-section\">\n        <ControlMenu\n          setCurrency={setCurrency}\n          setConvertedCurrency={setConvertedCurrency}\n          convertedCurrency={convertedCurrency}\n          setSortBy={setSortBy}\n          sortBy={sortBy}\n          from={from}\n          to={to}\n          setFrom={setFrom}\n          setTo={setTo}\n        />\n\n        <div className=\"App__products\">\n          <ProductCard\n            currency={currency}\n            convertedCurrency={convertedCurrency}\n            sortedProducts={sortedProducts}\n          />\n        </div>\n      </section>\n\n      <section className=\"App__new-product-section\">\n        <Form />\n      </section>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}